<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Facilo Rapido ‚Äî Emotional Barometer</title>
  <link rel="icon" href="./favicon.ico">
  <meta name="theme-color" content="#1a73e8">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <style>
    :root { --primary:#1a73e8; --bg:#f1f3f4; --text:#202124; --muted:#5f6368; --line:#e0e0e0; }
    *{box-sizing:border-box}
    body{font-family:Roboto,Arial,sans-serif;background:var(--bg);margin:0;padding:24px;color:var(--text)}
    .container{max-width:820px;margin:0 auto;background:#fff;padding:32px 36px;border-radius:12px;box-shadow:0 4px 20px rgba(0,0,0,.12)}
    h1{margin:0 0 24px;text-align:center;font-weight:500}
    h2{margin:28px 0 12px;color:var(--primary);font-weight:500;border-bottom:1px solid var(--line);padding-bottom:6px}
    label{display:block;margin-top:14px;font-weight:500;color:#5f6368}
    input,select,textarea{width:100%;margin-top:6px;padding:12px;border:1px solid #dadce0;border-radius:8px;font-size:16px;background:#fff;transition:border-color .2s, box-shadow .2s}
    input:focus,select:focus,textarea:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(26,115,232,.18)}
    textarea{min-height:90px;resize:vertical}

    /* Radios/checkbox vertical (mobile-friendly) */
    .radio-group{display:block;margin:8px 0 16px}
    .radio-group label{display:block;margin:6px 0;font-weight:400;color:#3c4043}
    .radio-group input{margin-right:8px}

    .row{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    @media (max-width:720px){.row{grid-template-columns:1fr}}

    /* Segmented scales 1‚Äì5 (clickable) */
    .seg{margin:18px 0}
    .seg .hdr{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
    .seg .hdr label{margin:0;color:#3c4043;font-weight:500}
    .segticks{display:flex;gap:8px;justify-content:space-between}
    .segticks input{display:none}
    .segticks label{
      flex:1; text-align:center; padding:10px 0; border:1px solid #dadce0; border-radius:10px;
      cursor:pointer; user-select:none; transition:all .15s; background:#fff;
    }
    .segticks label small{display:block; font-size:12px; color:#5f6368; margin-top:4px}
    .segticks input:checked + label{
      border-color:#1a73e8; background:#e8f0fe; color:#1a73e8; font-weight:500;
      box-shadow:0 0 0 3px rgba(26,115,232,.18) inset;
    }
    @media (max-width:560px){
      .segticks label{padding:8px 0; font-size:14px}
      .segticks label small{font-size:11px}
    }

    /* Conditional blocks */
    .hidden{display:none}

    .hint{text-align:center;color:#5f6368;font-size:14px;margin-top:6px}
    button{display:block;margin:28px auto 4px;padding:12px 28px;background:var(--primary);color:#fff;border:none;border-radius:26px;font-size:16px;font-weight:500;letter-spacing:.3px;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.2);transition:background .25s, box-shadow .25s}
    button:hover{background:#1765cc;box-shadow:0 4px 12px rgba(0,0,0,.25)}
  </style>
</head>
<body>
  <div class="container">
    <h1>üìù Journal du jour</h1>

    <!-- Formspree endpoint -->
    <form action="https://formspree.io/f/mrblnbqp" method="POST">

      <!-- üß† √âtat g√©n√©ral (√©chelles cliquables) -->
      <h2>üß† √âtat g√©n√©ral</h2>

      <div class="seg">
        <div class="hdr"><label>√ânergie</label></div>
        <div class="segticks">
          <input id="energie1" type="radio" name="√ânergie (1‚Äì5)" value="1"><label for="energie1">1<small>Tr√®s basse</small></label>
          <input id="energie2" type="radio" name="√ânergie (1‚Äì5)" value="2"><label for="energie2">2</label>
          <input id="energie3" type="radio" name="√ânergie (1‚Äì5)" value="3" checked><label for="energie3">3</label>
          <input id="energie4" type="radio" name="√ânergie (1‚Äì5)" value="4"><label for="energie4">4</label>
          <input id="energie5" type="radio" name="√ânergie (1‚Äì5)" value="5"><label for="energie5">5<small>Tr√®s haute</small></label>
        </div>
      </div>

      <div class="seg">
        <div class="hdr"><label>Stabilit√© √©motionnelle</label></div>
        <div class="segticks">
          <input id="stab1" type="radio" name="Stabilit√© √©motionnelle (1‚Äì5)" value="1"><label for="stab1">1<small>Fragile</small></label>
          <input id="stab2" type="radio" name="Stabilit√© √©motionnelle (1‚Äì5)" value="2"><label for="stab2">2</label>
          <input id="stab3" type="radio" name="Stabilit√© √©motionnelle (1‚Äì5)" value="3" checked><label for="stab3">3</label>
          <input id="stab4" type="radio" name="Stabilit√© √©motionnelle (1‚Äì5)" value="4"><label for="stab4">4</label>
          <input id="stab5" type="radio" name="Stabilit√© √©motionnelle (1‚Äì5)" value="5"><label for="stab5">5<small>Bonne</small></label>
        </div>
      </div>

      <div class="seg">
        <div class="hdr"><label>Stress per√ßu</label></div>
        <div class="segticks">
          <input id="stress1" type="radio" name="Stress per√ßu (1‚Äì5)" value="1"><label for="stress1">1<small>Aucun</small></label>
          <input id="stress2" type="radio" name="Stress per√ßu (1‚Äì5)" value="2"><label for="stress2">2</label>
          <input id="stress3" type="radio" name="Stress per√ßu (1‚Äì5)" value="3" checked><label for="stress3">3</label>
          <input id="stress4" type="radio" name="Stress per√ßu (1‚Äì5)" value="4"><label for="stress4">4</label>
          <input id="stress5" type="radio" name="Stress per√ßu (1‚Äì5)" value="5"><label for="stress5">5<small>√âcrasant</small></label>
        </div>
      </div>

      <div class="row">
        <div>
          <label>Anxi√©t√© ou tensions physiques :</label>
          <input type="text" name="Anxi√©t√© / Sympt√¥mes" placeholder="Ex. mal de ventre, crispation...">
        </div>
        <div>
          <label>Intensit√© (1‚Äì10) :</label>
          <input type="number" name="Anxi√©t√© / Intensit√©" min="1" max="10">
        </div>
      </div>

      <!-- üíû Relations -->
      <h2>üíû Relations</h2>

      <label>Contact avec Javi aujourd‚Äôhui ?</label>
      <div class="radio-group">
        <label><input type="radio" name="Javi contact" value="Oui" data-toggle> Oui</label>
        <label><input type="radio" name="Javi contact" value="Non" data-toggle> Non</label>
      </div>

      <div class="cond hidden" data-show-when="Javi contact:Oui">
        <label>Type de lien avec Javi :</label>
        <input type="text" name="Javi lien">
        <label>Ressenti apr√®s Javi :</label>
        <textarea name="Javi ressenti"></textarea>
      </div>

      <label>Contact avec Nathan aujourd‚Äôhui ?</label>
      <div class="radio-group">
        <label><input type="radio" name="Nathan contact" value="Oui" data-toggle> Oui</label>
        <label><input type="radio" name="Nathan contact" value="Non" data-toggle> Non</label>
      </div>

      <div class="cond hidden" data-show-when="Nathan contact:Oui">
        <label>Type de lien avec Nathan :</label>
        <input type="text" name="Nathan lien">
        <label>Malaise avec Nathan ?</label>
        <div class="radio-group">
          <label><input type="radio" name="Nathan malaise" value="Oui" data-toggle> Oui</label>
          <label><input type="radio" name="Nathan malaise" value="Non" data-toggle> Non</label>
        </div>
        <div class="cond hidden" data-show-when="Nathan malaise:Oui">
          <label>Pr√©ciser :</label>
          <textarea name="Nathan malaise d√©tails"></textarea>
        </div>
      </div>

      <!-- üß© Ressenti int√©rieur -->
      <h2>üß© Ressenti int√©rieur</h2>

      <label>Sentiment dominant :</label>
      <input type="text" name="Sentiment dominant">

      <label>Soutenue aujourd‚Äôhui ?</label>
      <div class="radio-group">
        <label><input type="radio" name="Soutenue" value="Oui" data-toggle> Oui</label>
        <label><input type="radio" name="Soutenue" value="Non" data-toggle> Non</label>
      </div>

      <label>Libre aujourd‚Äôhui ?</label>
      <div class="radio-group">
        <label><input type="radio" name="Libre" value="Oui" data-toggle> Oui</label>
        <label><input type="radio" name="Libre" value="Non" data-toggle> Non</label>
      </div>

      <label>Coupable aujourd‚Äôhui ?</label>
      <div class="radio-group">
        <label><input type="radio" name="Culpabilit√©" value="Oui" data-toggle> Oui</label>
        <label><input type="radio" name="Culpabilit√©" value="Non" data-toggle> Non</label>
      </div>
      <div class="cond hidden" data-show-when="Culpabilit√©:Oui">
        <label>Pourquoi :</label>
        <input type="text" name="Culpabilit√© raison">
      </div>

      <!-- üß† √âtat borderline (√©chelles cliquables 1‚Äì5) -->
      <h2>üß† √âtat borderline (1‚Äì5)</h2>

      <div class="seg">
        <div class="hdr"><label>Poursuite affective</label></div>
        <div class="segticks">
          <input id="pours1" type="radio" name="Poursuite affective" value="1"><label for="pours1">1<small>√âvitement</small></label>
          <input id="pours2" type="radio" name="Poursuite affective" value="2"><label for="pours2">2</label>
          <input id="pours3" type="radio" name="Poursuite affective" value="3" checked><label for="pours3">3</label>
          <input id="pours4" type="radio" name="Poursuite affective" value="4"><label for="pours4">4</label>
          <input id="pours5" type="radio" name="Poursuite affective" value="5"><label for="pours5">5<small>Poursuite</small></label>
        </div>
      </div>

      <div class="seg">
        <div class="hdr"><label>Peur de l‚Äôabandon</label></div>
        <div class="segticks">
          <input id="aban1" type="radio" name="Peur abandon" value="1"><label for="aban1">1<small>S√©curit√©</small></label>
          <input id="aban2" type="radio" name="Peur abandon" value="2"><label for="aban2">2</label>
          <input id="aban3" type="radio" name="Peur abandon" value="3" checked><label for="aban3">3</label>
          <input id="aban4" type="radio" name="Peur abandon" value="4"><label for="aban4">4</label>
          <input id="aban5" type="radio" name="Peur abandon" value="5"><label for="aban5">5<small>Forte peur</small></label>
        </div>
      </div>

      <div class="seg">
        <div class="hdr"><label>Clivage / id√©alisation</label></div>
        <div class="segticks">
          <input id="cliv1" type="radio" name="Clivage" value="1"><label for="cliv1">1<small>Nuanc√©</small></label>
          <input id="cliv2" type="radio" name="Clivage" value="2"><label for="cliv2">2</label>
          <input id="cliv3" type="radio" name="Clivage" value="3" checked><label for="cliv3">3</label>
          <input id="cliv4" type="radio" name="Clivage" value="4"><label for="cliv4">4</label>
          <input id="cliv5" type="radio" name="Clivage" value="5"><label for="cliv5">5<small>Noir/Blanc</small></label>
        </div>
      </div>

      <div class="seg">
        <div class="hdr"><label>Impulsivit√©</label></div>
        <div class="segticks">
          <input id="imp1" type="radio" name="Impulsivit√©" value="1"><label for="imp1">1<small>Calme</small></label>
          <input id="imp2" type="radio" name="Impulsivit√©" value="2"><label for="imp2">2</label>
          <input id="imp3" type="radio" name="Impulsivit√©" value="3" checked><label for="imp3">3</label>
          <input id="imp4" type="radio" name="Impulsivit√©" value="4"><label for="imp4">4</label>
          <input id="imp5" type="radio" name="Impulsivit√©" value="5"><label for="imp5">5<small>√âlev√©e</small></label>
        </div>
      </div>

      <div class="seg">
        <div class="hdr"><label>Sentiment de vide</label></div>
        <div class="segticks">
          <input id="vide1" type="radio" name="Vide" value="1"><label for="vide1">1<small>Plein</small></label>
          <input id="vide2" type="radio" name="Vide" value="2"><label for="vide2">2</label>
          <input id="vide3" type="radio" name="Vide" value="3" checked><label for="vide3">3</label>
          <input id="vide4" type="radio" name="Vide" value="4"><label for="vide4">4</label>
          <input id="vide5" type="radio" name="Vide" value="5"><label for="vide5">5<small>Vide</small></label>
        </div>
      </div>

      <!-- üó£Ô∏è Verbalisation -->
      <h2>üó£Ô∏è Verbalisation</h2>
      <label>Ai-je dit ce que je ressentais ?</label>
      <div class="radio-group">
        <label><input type="radio" name="Verbalisation" value="Oui" data-toggle> Oui</label>
        <label><input type="radio" name="Verbalisation" value="Non" data-toggle> Non</label>
      </div>
      <div class="cond hidden" data-show-when="Verbalisation:Oui">
        <label>√Ä qui ?</label>
        <input type="text" name="√Ä qui">
        <label>Ce que je n‚Äôai pas os√© dire :</label>
        <textarea name="Non dit"></textarea>
      </div>

      <!-- üß≠ Notes -->
      <h2>üß≠ Notes libres</h2>
      <textarea name="Notes"></textarea>

      <!-- Email requis (Formspree Free) -->
      <label>Email :</label>
      <input type="email" name="email" required>

      <!-- Hidden Formspree -->
      <input type="hidden" name="_redirect" value="https://cedbo26.github.io/emotionalstate/success.html">
      <input type="hidden" name="_subject" value="Journal du jour ‚Äì Facilo Rapido">
      <input type="text" name="_gotcha" style="display:none">

      <button type="submit">Envoyer le journal du jour</button>
      <div class="hint">En envoyant, tu consens au traitement de ces r√©ponses par Facilo Rapido.</div>
    </form>
  </div>

  <!-- JS minimal pour les conditions -->
  <script>
    function applyConditions(){
      document.querySelectorAll('.cond').forEach(block=>{
        const rule = block.getAttribute('data-show-when'); // "NomDuChamp:Valeur"
        if(!rule) return;
        const [field, wanted] = rule.split(':');
        const checked = document.querySelector(`input[name="${field}"]:checked`);
        const ok = checked && checked.value === wanted;
        block.classList.toggle('hidden', !ok);
      });
    }
    document.addEventListener('change', e=>{
      if(e.target.matches('input[type=radio][data-toggle]')) applyConditions();
    });
    applyConditions();
  </script>
</body>
</html>
